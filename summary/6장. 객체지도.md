# 6장. 객체지도

- **기능 설계 vs 구조 설계**
  - 기능을 중심으로 구조를 종속시키는 접근법은 범용적이지 않고 재사용이 불가능하며 변경에 취약한 모델을 낳게 된다. 이와 달리 안정적인 구조를 중심으로 기능을 종속시키는 접근법은 범용적이고 재사용 가능하며 변경에 유연하게 대처할 수 있는 모델을 만든다.
  - 객체지향 개발 방법은 안정적인 구조에 변경이 빈번하게 발생하는 기능을 종속시키는 것이다. 사람들의 요구사항이 계속 변하기 때문에 모델이 제공해야 하는 기능 역시 이에 따라 지속적으로 변할 수 밖에 없다. 따라서 기능을 중심으로 구조를 종속시키는 접근법은 범용적이지 않고 재사용이 불가능하며 변경에 취약한 모델을 낳게 된다.
  - 자주 변경되는 기능이 아니라, 안정적인 구조를 따라 역할, 책임, 협력을 구성해라!
  - **기능 설계 :** 제품이 사용자를 위해 무엇을 할 수 있는지에 초점을 맞춤
    - **기능이란 ? :** 사용자가 자신의 목표 달성을 위해 사용할 수 있는 시스템의 서비스
  - **구조 설계 :** 제품의 형태가 어떠해야 하는지에 초점을 맞춤
    - **구조란? :** 시스템의 기능을 구현하기 위한 기반으로, 기능 변경을 수용할 수 있도록 안정적이여야만 한다.
- **도메인**
  - 특정 분야의 문제를 해결하기 위해 소프트웨어를 사용하는데 이처럼 사용자가 프로그램을 사용하는 대상 분야를 도메인이라고 한다.
- **도메인 모델**
  - 도메인 모델은 사용자들이 도메인을 바라보는 관점이며, 설계자가 시스템의 구조를 바라보는 관점인 동시에 소프트웨어 안에 구현된 코드의 모습 자체이다.
  - 안정적인 구조를 제공하는 도메인 모델을 기반으로 소프트웨어의 구조를 설계하면 변경에 유연하게 대응할 수 있는 탄력적인 소프트웨어를 만들 수 있다. 도메인 모델은 기능을 구현할 때 참조할 수 있는 궁극적인 지도이다.
  - 안정적인 도메인 모델을 기반으로 시스템의 기능을 구현하라.
- **유스케이스**
  - 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 텍스트로 정리한 것을 유스케이스라 한다. 즉, 안정적이지 않은(변할 수 있는) 기능을 서술하기 위한 도구다.
    - 유스케이스는 하나의 시나리오가 아니라 여러 시나리오들의 집합이다.
    - 또한 유스케이스는 시스템이 수행해야하는 기능의 목록을 단순하게 나열한 것이아니라, ‘중도 해지 이자액을 계산한다’ 라는 이야기 안에 기능들이 들어가있는 것을 연상하도록 만든 글을 의미한다.
    - 유스케이스에는 사용자 인터페이스와 관련된 세부 정보는 포함하지 말아야한다. 사용자가 어떤UI로 접근하는지 등은 넣지 않는다.
    - 또한 유스케이스는 내부 설계와 관련된 정보를 포함하지 않는다. 연관 시스템의 기능을 이야기 형식으로 모은 것이지, 내부 설계를 설명하면 안된다.
  - 유스케이스는 사용자들의 목표를 중심으로 시스템의 기능적인 요구사항들을 이야기 형식으로 묶을 수 있다.
  - 유스케이스는 설계 기법도, 객체지향 기법도 아니다.
- **기능과 구조의 통합**
  - 유스케이스에 정리된 시스템의 기능을 도메인 모델을 기반으로 한 객체들의 책임으로 분배해야 한다. 즉, 협력에 필요한 메시지를 식별하면서 객체들에게 책임을 할당해 나간다.
  - 책임 할당의 기본 원칙은 책임을 수행하는 데 필요한 정보를 가진 객체에게 그 책임을 할당해야 한다. 이래야 관련된 상태와 행동을 함께 캡슐화하는 자율적인 객체를 낳는다.
